
	<!-- Modal for querier-->
                <div class="modal-header">
                	<h1 class="page-header">Response: <small>Get Feature Info result</small></h1>
                </div>
				<div class="modal-body">
					
					<div class="panel panel-default">						
						<!-- END panel-heading -->
						<!-- BEGIN panel-body -->
						
						<div class="panel-body">							
							<!-- BEGIN panel-group -->
							<div class="form-inline p-b-15">
								<div class="form-group  form-group-sm">
				                    <label><i class="fa fa-filter" aria-hidden="true"></i> Filter: </label>	                    
									<select class="form-control input-sm" [(ngModel)]="selectLayerNameFilter">
										<option value="ALL" selected="selected">ALL</option>
										<option *ngFor="let uniqueLayerName of uniqueLayerNames">{{uniqueLayerName}}</option>
									</select>
				                </div>
			                </div>
							<div *ngIf="downloading"><h2 class="wip">Downloading <span class="fa fa-circle small"></span><span class="fa fa-circle small"></span><span class="fa fa-circle small"></span></h2></div>
							<div class="panel-group" id="querier-accordion">
								<!-- BEGIN panel -->
								<div *ngFor="let doc of docs | querierFeatureSearchPipe:selectLayerNameFilter" class="panel panel-default panel-bordered">
									<!-- BEGIN panel-heading -->
									<div class="panel-heading" id="headingOne">
										<h4 class="panel-title">
											<a href="#{{doc.key}}" (click)="collapse[doc.key]=!collapse[doc.key];parseTree(doc);" class="accordion-link" data-toggle="collapse" data-parent="#querier-accordion">
												{{doc.key}}
											</a>
										</h4>
									</div>
									<!-- END panel-heading -->
									<!-- BEGIN panel-collapse -->
									<div id="{{doc.key}}" class="panel-collapse collapse" [ngClass]="{'in' :collapse[doc.key]}">
										<div class="panel panel-default panel-with-tabs">
											<!-- BEGIN panel-heading -->
											<div class="panel-heading">
												<ul id="querier-panel-tab" class="nav nav-tabs pull-right">
													<li (click)="doc.home=true;doc.analytic=false;" [ngClass]="{'active':doc.home}"><a href="#{{doc.key}}-panel-tab-home" data-toggle="tab"><i class="fa fa-home"></i> <span class="hidden-xs">WFS</span></a></li>
													<li (click)="doc.home=false;doc.analytic=true" [ngClass]="{'active':doc.analytic}" *ngIf="analyticMap[doc.layer.id]" ><a href="#{{doc.key}}-panel-tab-profile" data-toggle="tab"><i class="fa fa-user"></i> <span class="hidden-xs">Analytic</span></a></li>
												</ul>
												<h4 class="panel-title">Feature Detail</h4>
											</div>
											<!-- END panel-heading -->
											<!-- BEGIN tab-content -->
											<div id="panel-tab-content" class="tab-content">
												<!-- BEGIN tab-pane -->												
												<div *ngIf="doc.key !== 'Server Error'" class="tab-pane fade" [ngClass]="{'active in':doc.home}" id="{{doc.key}}-panel-tab-home">													
													<tree *ngIf="JSONTreeStruct[doc.key]" [tree]="JSONTreeStruct[doc.key]" [attr.id]="doc.key"></tree>
												</div>
												<div *ngIf="doc.key === 'Server Error'" class="tab-pane fade" [ngClass]="{'active in':doc.home}" id="{{doc.key}}-panel-tab-home">													
													<p>Sorry - server has returned an error message. See browser console for more information</p>
												</div>
												<!-- END tab-pane -->
												<!-- BEGIN tab-pane -->
												<div *ngIf="analyticMap[doc.layer.id]" class="tab-pane fade" [ngClass]="{'active in':doc.analytic}" id="{{doc.key}}-panel-tab-profile">																										
													<app-custom-analytic [layer]="doc.layer" [load]="doc.loadSubComponent" [onlineResource] = "doc.onlineResource" [featureId]="doc.key"></app-custom-analytic>
												</div>
												<!-- END tab-pane -->
											</div>
											<!-- END tab-content -->
										</div>
									</div>
									<!-- END panel-collapse -->
								</div>
								<!-- END panel -->
							</div>
							<!-- END panel-group -->
						</div>
						<!-- END panel-body -->
					</div>
				</div>
				<div class="modal-footer">
                    <button type="button" class="btn btn-default" (click)="bsModalRef.hide()">Close</button>
				</div>
