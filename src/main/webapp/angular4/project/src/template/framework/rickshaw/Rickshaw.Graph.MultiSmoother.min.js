Rickshaw.namespace("Rickshaw.Graph.MultiSmoother"),Rickshaw.Graph.MultiSmoother=Rickshaw.Class.create({initialize:function(t){this.graphs=t.graph?[t.graph]:t.graphs,this.element=t.element,this.aggregationScale=1,this.build(),this.graphs.forEach(function(t){t.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},this)},build:function(){var t=this,a=jQuery;this.element&&a(function(){a(t.element).slider({min:1,max:100,slide:function(a,i){t.setScale(i.value)}})})},setScale:function(t){if(1>t)throw"scale out of range: "+t;this.aggregationScale=t,this.graphs.forEach(function(t){t.update()})},transformer:function(t){if(1==this.aggregationScale)return t;var a=[];return t.forEach(function(t){for(var i=[];t.length;){var e=0,n=0,h=t.splice(0,this.aggregationScale);h.forEach(function(t){e+=t.x/h.length,n+=t.y/h.length}),i.push({x:e,y:n})}a.push(i)}.bind(this)),a}});